<UserControl x:Class="DockTemplate.Views.Documents.DocumentView"
             xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:avaloniaEdit="https://github.com/avaloniaui/avaloniaedit"
             xmlns:vm="using:DockTemplate.ViewModels.Documents"
             mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="450"
             x:DataType="vm:DocumentViewModel" x:CompileBindings="True">
  
  <Grid RowDefinitions="Auto,*,Auto">
    
    <!-- Header -->
    <Border Grid.Row="0" Background="{DynamicResource SystemControlBackgroundChromeLowBrush}" 
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}" 
            BorderThickness="0,0,0,1" Padding="8,4">
      <StackPanel Orientation="Horizontal" Spacing="8">
        <TextBlock Text="{Binding Title, FallbackValue='Document'}" 
                   VerticalAlignment="Center" FontWeight="SemiBold" />
        <TextBlock Text="•" VerticalAlignment="Center" 
                   IsVisible="{Binding HasUnsavedChanges}" 
                   Foreground="Orange" FontWeight="Bold" />
      </StackPanel>
    </Border>

    <!-- Editor -->
    <avaloniaEdit:TextEditor Grid.Row="1" 
                            x:Name="TextEditor"
                            Document="{Binding Document}" 
                            Background="{DynamicResource EditorBackground}"
                            Foreground="{DynamicResource EditorForeground}"
                            LineNumbersForeground="{DynamicResource EditorLineNumberForeground}"
                            FontFamily="Consolas,Courier New,monospace"
                            FontSize="13"
                            ShowLineNumbers="True"
                            WordWrap="False"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollBarVisibility="Auto" />

    <!-- Status Bar -->
    <Border Grid.Row="2" Background="{DynamicResource SystemControlBackgroundChromeLowBrush}" 
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}" 
            BorderThickness="0,1,0,0" Padding="8,4">
      <Grid ColumnDefinitions="*,Auto">
        <TextBlock Grid.Column="0" Text="{Binding Title}" VerticalAlignment="Center" />
        <TextBlock Grid.Column="1" Text="{Binding CurrentLanguage}" VerticalAlignment="Center" 
                   FontSize="11" Opacity="0.8" />
      </Grid>
    </Border>
    
  </Grid>
</UserControl>