<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:avaloniaEdit="https://github.com/avaloniaui/avaloniaedit"
             xmlns:tools="using:DockComponent.Editor.ViewModels"
             mc:Ignorable="d" d:DesignWidth="600" d:DesignHeight="450"
             x:Class="DockComponent.Editor.Views.EditorToolView"
             x:DataType="tools:EditorToolViewModel">
  
  <Grid RowDefinitions="Auto,*,Auto">
    
    <!-- Toolbar -->
    <Border Grid.Row="0" Background="{DynamicResource SystemControlBackgroundChromeLowBrush}" 
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}" 
            BorderThickness="0,0,0,1" Padding="8,4">
      <StackPanel Orientation="Horizontal" Spacing="8">
        <Button Content="New" Command="{Binding NewFileCommand}" />
        <Button Content="Open" Command="{Binding OpenFileCommand}" />
        <Button Content="Save" Command="{Binding SaveFileCommand}" />
        <Button Content="Save As" Command="{Binding SaveAsCommand}" />
        <Rectangle Width="1" Height="20" Fill="{DynamicResource SystemControlForegroundBaseLowBrush}" />
        <TextBlock Text="{Binding CurrentFileName}" VerticalAlignment="Center" FontWeight="SemiBold" />
        <TextBlock Text="â€¢" VerticalAlignment="Center" 
                   IsVisible="{Binding HasUnsavedChanges}" 
                   Foreground="Orange" FontWeight="Bold" />
      </StackPanel>
    </Border>

    <!-- Editor -->
    <avaloniaEdit:TextEditor Grid.Row="1" 
                            x:Name="TextEditor"
                            Document="{Binding Document}" 
                            Background="{DynamicResource EditorBackground}"
                            Foreground="{DynamicResource EditorForeground}"
                            LineNumbersForeground="{DynamicResource EditorLineNumberForeground}"
                            FontFamily="Consolas,Courier New,monospace"
                            FontSize="13"
                            ShowLineNumbers="True"
                            WordWrap="False"
                            HorizontalScrollBarVisibility="Auto"
                            VerticalScrollBarVisibility="Auto" />

    <!-- Status Bar -->
    <Border Grid.Row="2" Background="{DynamicResource SystemControlBackgroundChromeLowBrush}" 
            BorderBrush="{DynamicResource SystemControlForegroundBaseLowBrush}" 
            BorderThickness="0,1,0,0" Padding="8,4">
      <Grid ColumnDefinitions="*,Auto">
        <TextBlock Grid.Column="0" Text="{Binding StatusText}" VerticalAlignment="Center" />
        <StackPanel Grid.Column="1" Orientation="Horizontal" Spacing="16">
          <TextBlock Text="{Binding CurrentLanguage}" VerticalAlignment="Center" 
                     FontSize="11" Opacity="0.8" />
        </StackPanel>
      </Grid>
    </Border>
    
  </Grid>
</UserControl>